/*
 *  jquery-async-navigator - v0.0.7
 *  Provides async navigation to legacy browser request/loading based websites.
 *  https://github.com/electblake/jquery-async-navigator
 *
 *  Made by Blake E
 *  Under MIT License
 */
!function(a,b){"use strict";function c(b,c){this.element=jQuery(b),this.settings=a.extend({},e,c),this._defaults=e,this._name=d,this.init()}var d="asyncNavigator",e={};a.extend(c.prototype,{init:function(){this.settings.selector="#"+this.element.attr("id")},asyncNextPage:function(a,c){this.getNextPage(a,b._.bind(function(a,b){jQuery(this.settings.selector).html(b.main_content),jQuery("body")[0].className=b.body_class,jQuery("html head title").attr("innerHTML",b.page_title),history.pushState({},b.page_title,b.url),c(a)},this))},getNextPage:function(c,d){var e={url:c};a.ajax({url:c,success:b._.bind(function(a){var b=jQuery(a),c=b.find(this.settings.selector).attr("innerHTML");c&&c.length>0&&(e.page_title=b.find("html head title").attr("innerHTML"),e.body_class=b.find("body").className,e.main_content=c),d(null,e)},this),error:function(a,b,c){console.log("status",b),d(c)}})}}),a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);